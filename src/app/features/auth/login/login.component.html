<div class="login-page">
  <div class="login-background">
    <div class="pattern-overlay"></div>
    <div class="gradient-orb gradient-orb-1"></div>
    <div class="gradient-orb gradient-orb-2"></div>
  </div>

  <div class="login-wrapper">
    <div class="login-card fade-in">
      <div class="login-header">
        <div class="logo-container">
          <div class="logo-icon">
            <i class="pi pi-building-columns"></i>
          </div>
          <div class="logo-text">
            <h1>SecureBank</h1>
            <span class="tagline">Trusted Financial Partner</span>
          </div>
        </div>
      </div>

      <div class="welcome-section">
        <h2>Welcome back</h2>
        <p>Sign in to access your banking dashboard</p>
      </div>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        @if (errorMessage()) {
          <div class="error-alert">
            <i class="pi pi-exclamation-circle"></i>
            <span>{{ errorMessage() }}</span>
          </div>
        }

        <div class="form-group">
          <label for="email">
            <i class="pi pi-envelope"></i>
            Email Address
          </label>
          <div class="input-wrapper">
            <input
              pInputText
              id="email"
              formControlName="email"
              type="email"
              placeholder="Enter your email"
              class="w-full"
              [class.input-error]="email?.invalid && email?.touched"
            />
          </div>
          @if (email?.invalid && email?.touched) {
            <span class="field-error">
              @if (email?.errors?.['required']) {
                Email is required
              } @else if (email?.errors?.['email']) {
                Please enter a valid email address
              }
            </span>
          }
        </div>

        <div class="form-group">
          <label for="password">
            <i class="pi pi-lock"></i>
            Password
          </label>
          <div class="input-wrapper">
            <p-password
              formControlName="password"
              [toggleMask]="true"
              [feedback]="false"
              placeholder="Enter your password"
              styleClass="w-full"
              inputStyleClass="w-full"
              [class.input-error]="password?.invalid && password?.touched"
            />
          </div>
          @if (password?.invalid && password?.touched) {
            <span class="field-error">
              @if (password?.errors?.['required']) {
                Password is required
              } @else if (password?.errors?.['minlength']) {
                Password must be at least 6 characters
              }
            </span>
          }
        </div>

        <button
          pButton
          type="submit"
          class="login-button"
          [loading]="loading()"
          [disabled]="loading()"
        >
          <span class="button-content">
            @if (!loading()) {
              <i class="pi pi-sign-in"></i>
            }
            <span>Sign In</span>
          </span>
        </button>
      </form>

      <div class="login-footer">
        <div class="divider">
          <span>Demo Access</span>
        </div>
        <div class="demo-alert">
          <div class="alert-header">
            <i class="pi pi-info-circle"></i>
            <span>For Testing Purposes</span>
          </div>
          <div class="alert-content">
            <p><strong>Email:</strong> admin@bank.com</p>
            <p><strong>Password:</strong> admin123</p>
          </div>
        </div>
      </div>
    </div>   
  </div>
</div>
